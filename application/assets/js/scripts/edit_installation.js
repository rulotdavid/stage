var _$_c96c=["action","javascript:createEquipment();","attr","#form-equipment","","val","#equipment-nominal-power","#equipment-slope","#equipment-azimuth","javascript:editEquipment(",");","nominal_power","get","slope","azimuth","#select-currentTechnologies","set","id","type","forEach","<tr id=\"trEquipment","\">","<td>","</td>","<td><button onclick=\"refreshModalEditEquipment(",");\" type=\"button\" class=\"btn btn-link btn-xs\" style=\"border-color: black;\" data-toggle=\"modal\" data-target=\"#modal-equipment\">Edit</button></td>","<td><button onclick=\"deleteEquipment(",");\" type=\"button\" class=\"btn btn-link btn-xs\" style=\"border-color: black;\">Remove</button></td>","</tr>","append","#table-equipment tbody","hide","modal","#modal-equipment","#btAddEquipment","technologyId","#trEquipment"," td","html","eq","Are you sure?","Your will not be able to recover this equipment.","warning","btn-danger","Yes, delete it!","remove","delete","Deleted!","Your equipment has been deleted.","success","show","push","production","#installation-production","inverter_efficiency","#installation-inverter-efficiency","Error","error","catch","/installations","replace","location","1","Addresse already used","-1","Creation location failed","-2","Creation installation failed","-3","Creation equipment failed","-4","Verfication location failed","-5","Update failed","-6","data","then","/save","post","Warning","google_place_id","Location is missing","street_number","Location is not complete","size","Equipment is missing","length","Production is missing","Production is not correct","Inverter efficiency is missing","Inverter efficiency is not correct","googleMap","getElementById","ROADMAP","MapTypeId","maps","Map","pac-input","SearchBox","places","bounds_changed","getBounds","setBounds","addListener","places_changed","LatLngBounds","getPlaces","place_id","lat","geometry","lng","address_components","formatted_address","InfoWindow","Marker","click","open","viewport","union","extend","fitBounds","installation","equipmentList","ready","route","locality","postal_code","country","PlacesService"," ",", ","setContent","event","getDetails","setZoom","LatLng","setCenter","long_name","types","<option>","#tipTechnology","#tipNominalPower","#tipSlope","#tipAzimuth","#tipProduction","#tipInverterEffeciency","getTime"];var isTipTechnolgyDisplayed=false;var isTipNominalPowerDisplayed=false;var isTipSlopeDisplayed=false;var isTipAzimuthDisplayed=false;var isTipProductionDisplayed=false;var isTipInverterEfficiencyDisplayed=false;var address={};var installation={};var mapEquipment= new Map();var googleMap=undefined;var isCreation=true;var countEquipment=0;function refreshModalCreateEquipment(){$(_$_c96c[3])[_$_c96c[2]](_$_c96c[0],_$_c96c[1]);$(_$_c96c[6])[_$_c96c[5]](_$_c96c[4]);$(_$_c96c[7])[_$_c96c[5]](_$_c96c[4]);$(_$_c96c[8])[_$_c96c[5]](_$_c96c[4])}function refreshModalEditEquipment(_0xE6FB){$(_$_c96c[3])[_$_c96c[2]](_$_c96c[0],_$_c96c[9]+ _0xE6FB+ _$_c96c[10]);$(_$_c96c[6])[_$_c96c[5]](mapEquipment[_$_c96c[12]](_0xE6FB)[_$_c96c[11]]);$(_$_c96c[7])[_$_c96c[5]](mapEquipment[_$_c96c[12]](_0xE6FB)[_$_c96c[13]]);$(_$_c96c[8])[_$_c96c[5]](mapEquipment[_$_c96c[12]](_0xE6FB)[_$_c96c[14]])}function createEquipment(){var _0xE6DD={technologyId:$(_$_c96c[15])[_$_c96c[5]](),nominal_power:$(_$_c96c[6])[_$_c96c[5]](),slope:$(_$_c96c[7])[_$_c96c[5]](),azimuth:$(_$_c96c[8])[_$_c96c[5]]()};var _0xE6FB=countEquipment++;mapEquipment[_$_c96c[16]](_0xE6FB,_0xE6DD);var _0xE719;currentTechnologies[_$_c96c[19]](function(_0xE737){if(_0xE737[_$_c96c[17]]== $(_$_c96c[15])[_$_c96c[5]]()){_0xE719= _0xE737[_$_c96c[18]]}});$(_$_c96c[30])[_$_c96c[29]](_$_c96c[20]+ _0xE6FB+ _$_c96c[21]+ _$_c96c[22]+ _0xE719+ _$_c96c[23]+ _$_c96c[22]+ _0xE6DD[_$_c96c[11]]+ _$_c96c[23]+ _$_c96c[22]+ _0xE6DD[_$_c96c[13]]+ _$_c96c[23]+ _$_c96c[22]+ _0xE6DD[_$_c96c[14]]+ _$_c96c[23]+ _$_c96c[24]+ _0xE6FB+ _$_c96c[25]+ _$_c96c[26]+ _0xE6FB+ _$_c96c[27]+ _$_c96c[28]);$(_$_c96c[33])[_$_c96c[32]](_$_c96c[31]);$(_$_c96c[34])[_$_c96c[31]]()}function editEquipment(_0xE6FB){mapEquipment[_$_c96c[12]](_0xE6FB)[_$_c96c[35]]= $(_$_c96c[15])[_$_c96c[5]]();mapEquipment[_$_c96c[12]](_0xE6FB)[_$_c96c[11]]= $(_$_c96c[6])[_$_c96c[5]]();mapEquipment[_$_c96c[12]](_0xE6FB)[_$_c96c[13]]= $(_$_c96c[7])[_$_c96c[5]]();mapEquipment[_$_c96c[12]](_0xE6FB)[_$_c96c[14]]= $(_$_c96c[8])[_$_c96c[5]]();var _0xE719;currentTechnologies[_$_c96c[19]](function(_0xE737){if(_0xE737[_$_c96c[17]]== mapEquipment[_$_c96c[12]](_0xE6FB)[_$_c96c[35]]){_0xE719= _0xE737[_$_c96c[18]]}});var _0xE755=$(_$_c96c[36]+ _0xE6FB+ _$_c96c[37]);_0xE755[_$_c96c[39]](0)[_$_c96c[38]](_0xE719);_0xE755[_$_c96c[39]](1)[_$_c96c[38]](mapEquipment[_$_c96c[12]](_0xE6FB)[_$_c96c[11]]);_0xE755[_$_c96c[39]](2)[_$_c96c[38]](mapEquipment[_$_c96c[12]](_0xE6FB)[_$_c96c[13]]);_0xE755[_$_c96c[39]](3)[_$_c96c[38]](mapEquipment[_$_c96c[12]](_0xE6FB)[_$_c96c[14]]);$(_$_c96c[33])[_$_c96c[32]](_$_c96c[31])}function deleteEquipment(_0xE6FB){swal({title:_$_c96c[40],text:_$_c96c[41],type:_$_c96c[42],showCancelButton:true,confirmButtonClass:_$_c96c[43],confirmButtonText:_$_c96c[44],closeOnConfirm:false},function(){$(_$_c96c[36]+ _0xE6FB)[_$_c96c[45]]();mapEquipment[_$_c96c[46]](_0xE6FB);swal(_$_c96c[47],_$_c96c[48],_$_c96c[49]);$(_$_c96c[34])[_$_c96c[50]]()})}function save(){try{check_input();var _0xE863=[];mapEquipment[_$_c96c[19]](function(_0xE6DD){_0xE863[_$_c96c[51]](_0xE6DD)});installation[_$_c96c[52]]= $(_$_c96c[53])[_$_c96c[5]]();installation[_$_c96c[54]]= $(_$_c96c[55])[_$_c96c[5]]();axios[_$_c96c[78]](_$_c96c[77],{isCreation:isCreation,address:address,installation:installation,equipmentList:_0xE863})[_$_c96c[76]](function(_0xE881){switch(String(_0xE881[_$_c96c[75]])){case _$_c96c[62]:window[_$_c96c[61]][_$_c96c[60]](_$_c96c[59]);break;case _$_c96c[64]:swal(_$_c96c[56],_$_c96c[63],_$_c96c[57]);break;case _$_c96c[66]:swal(_$_c96c[56],_$_c96c[65],_$_c96c[57]);break;case _$_c96c[68]:swal(_$_c96c[56],_$_c96c[67],_$_c96c[57]);break;case _$_c96c[70]:swal(_$_c96c[56],_$_c96c[69],_$_c96c[57]);break;case _$_c96c[72]:swal(_$_c96c[56],_$_c96c[71],_$_c96c[57]);break;case _$_c96c[74]:swal(_$_c96c[56],_$_c96c[73],_$_c96c[57]);break}})[_$_c96c[58]](function(_0xE89F){swal(_$_c96c[56],_0xE89F,_$_c96c[57])})}catch(e){swal(_$_c96c[79],e,_$_c96c[42]);return}}function check_input(){if(address[_$_c96c[80]]== undefined){throw _$_c96c[81]}else {if(address[_$_c96c[82]]== undefined|| address[_$_c96c[82]]== null){throw _$_c96c[83]}};if(mapEquipment[_$_c96c[84]]== 0){throw _$_c96c[85]};if($(_$_c96c[53])[_$_c96c[5]]()[_$_c96c[86]]== 0){throw _$_c96c[87]};if($(_$_c96c[53])[_$_c96c[5]]()< 0){throw _$_c96c[88]};if($(_$_c96c[55])[_$_c96c[5]]()[_$_c96c[86]]== 0){throw _$_c96c[89]};if($(_$_c96c[55])[_$_c96c[5]]()< 0|| $(_$_c96c[55])[_$_c96c[5]]()> 100){throw _$_c96c[90]}}function initAutocomplete(){googleMap=  new google[_$_c96c[95]][_$_c96c[96]](document[_$_c96c[92]](_$_c96c[91]),{center:{lat:0,lng:0},zoom:1,mapTypeId:google[_$_c96c[95]][_$_c96c[94]][_$_c96c[93]]});var _0xE773=document[_$_c96c[92]](_$_c96c[97]);var _0xE7AF= new google[_$_c96c[95]][_$_c96c[99]][_$_c96c[98]](_0xE773);googleMap[_$_c96c[103]](_$_c96c[100],function(){_0xE7AF[_$_c96c[102]](googleMap[_$_c96c[101]]())});var _0xE791=[];_0xE7AF[_$_c96c[103]](_$_c96c[104],function(){var _0xE7CD= new google[_$_c96c[95]][_$_c96c[105]]();var _0xE7EB=_0xE7AF[_$_c96c[106]]();if(_0xE7EB[_$_c96c[86]]== 0){return};_0xE7EB[_$_c96c[19]](function(_0xE845){address[_$_c96c[80]]= _0xE845[_$_c96c[107]];address[_$_c96c[108]]= _0xE845[_$_c96c[109]][_$_c96c[61]][_$_c96c[108]]();address[_$_c96c[110]]= _0xE845[_$_c96c[109]][_$_c96c[61]][_$_c96c[110]]();setComponents(_0xE845[_$_c96c[111]]);var _0xE809= new google[_$_c96c[95]][_$_c96c[113]]({content:_0xE845[_$_c96c[112]]});var _0xE827= new google[_$_c96c[95]][_$_c96c[114]]({map:googleMap,position:_0xE845[_$_c96c[109]][_$_c96c[61]]});_0xE827[_$_c96c[103]](_$_c96c[115],function(){_0xE809[_$_c96c[116]](googleMap,_0xE827)});_0xE791[_$_c96c[51]](_0xE827);if(_0xE845[_$_c96c[109]][_$_c96c[117]]){_0xE7CD[_$_c96c[118]](_0xE845[_$_c96c[109]][_$_c96c[117]])}else {_0xE7CD[_$_c96c[119]](_0xE845[_$_c96c[109]][_$_c96c[61]])}});googleMap[_$_c96c[120]](_0xE7CD)})}$(document)[_$_c96c[123]](function(){while(true){if(googleMap== undefined){initAutocomplete();sleep(250)}else {break}};updateTechnologies();if(currentInstallation!= null){isCreation= false;updateLocation(currentInstallation[_$_c96c[61]]);updateInstallation(currentInstallation[_$_c96c[121]]);updateEquipment(currentInstallation[_$_c96c[122]])}});function updateLocation(_0xEA43){address= {id:_0xEA43[_$_c96c[17]],google_place_id:_0xEA43[_$_c96c[80]],lat:_0xEA43[_$_c96c[108]],lng:_0xEA43[_$_c96c[110]],street_number:_0xEA43[_$_c96c[82]],route:_0xEA43[_$_c96c[124]],locality:_0xEA43[_$_c96c[125]],postal_code:_0xEA43[_$_c96c[126]],country:_0xEA43[_$_c96c[127]]};var _0xE809= new google[_$_c96c[95]][_$_c96c[113]]();var _0xEA61= new google[_$_c96c[95]][_$_c96c[99]][_$_c96c[128]](googleMap);_0xEA61[_$_c96c[133]]({placeId:_0xEA43[_$_c96c[80]]},function(_0xE845,_0xEA7F){var _0xE827= new google[_$_c96c[95]][_$_c96c[114]]({map:googleMap,position:_0xE845[_$_c96c[109]][_$_c96c[61]]});google[_$_c96c[95]][_$_c96c[132]][_$_c96c[103]](_0xE827,_$_c96c[115],function(){_0xE809[_$_c96c[131]](address[_$_c96c[124]]+ _$_c96c[129]+ address[_$_c96c[82]]+ _$_c96c[130]+ address[_$_c96c[126]]+ _$_c96c[129]+ address[_$_c96c[125]]+ _$_c96c[130]+ address[_$_c96c[127]]);_0xE809[_$_c96c[116]](googleMap,this)})});googleMap[_$_c96c[134]](15);googleMap[_$_c96c[136]]( new google[_$_c96c[95]][_$_c96c[135]](_0xEA43[_$_c96c[108]],_0xEA43[_$_c96c[110]]))}function updateInstallation(_0xEA25){installation[_$_c96c[17]]= _0xEA25[_$_c96c[17]];$(_$_c96c[53])[_$_c96c[5]](_0xEA25[_$_c96c[52]]);$(_$_c96c[55])[_$_c96c[5]](_0xEA25[_$_c96c[54]])}function updateEquipment(_0xEA07){$(_$_c96c[34])[_$_c96c[31]]();_0xEA07[_$_c96c[19]](function(_0xE6DD){if(_0xE6DD[_$_c96c[17]]> countEquipment){countEquipment= _0xE6DD[_$_c96c[17]]};countEquipment++;mapEquipment[_$_c96c[16]](_0xE6DD[_$_c96c[17]],{id:_0xE6DD[_$_c96c[17]],technologyId:_0xE6DD[_$_c96c[35]],nominal_power:_0xE6DD[_$_c96c[11]],slope:_0xE6DD[_$_c96c[13]],azimuth:_0xE6DD[_$_c96c[14]]});var _0xE719;currentTechnologies[_$_c96c[19]](function(_0xE737){if(_0xE737[_$_c96c[17]]== _0xE6DD[_$_c96c[35]]){_0xE719= _0xE737[_$_c96c[18]];$(_$_c96c[15])[_$_c96c[5]](_0xE737[_$_c96c[17]])}});$(_$_c96c[30])[_$_c96c[29]](_$_c96c[20]+ _0xE6DD[_$_c96c[17]]+ _$_c96c[21]+ _$_c96c[22]+ _0xE719+ _$_c96c[23]+ _$_c96c[22]+ _0xE6DD[_$_c96c[11]]+ _$_c96c[23]+ _$_c96c[22]+ _0xE6DD[_$_c96c[13]]+ _$_c96c[23]+ _$_c96c[22]+ _0xE6DD[_$_c96c[14]]+ _$_c96c[23]+ _$_c96c[24]+ _0xE6DD[_$_c96c[17]]+ _$_c96c[25]+ _$_c96c[26]+ _0xE6DD[_$_c96c[17]]+ _$_c96c[27]+ _$_c96c[28])})}function setComponents(_0xE8BD){var _0xE953=null;var _0xE935=null;var _0xE8F9=null;var _0xE917=null;var _0xE8DB=null;_0xE8BD[_$_c96c[19]](function(_0xE971){_0xE971[_$_c96c[138]][_$_c96c[19]](function(_0xE98F){switch(_0xE98F){case _$_c96c[82]:_0xE953= _0xE971[_$_c96c[137]];break;case _$_c96c[124]:_0xE935= _0xE971[_$_c96c[137]];break;case _$_c96c[125]:_0xE8F9= _0xE971[_$_c96c[137]];break;case _$_c96c[126]:_0xE917= _0xE971[_$_c96c[137]];break;case _$_c96c[127]:_0xE8DB= _0xE971[_$_c96c[137]];break}})});address[_$_c96c[82]]= _0xE953;address[_$_c96c[124]]= _0xE935;address[_$_c96c[125]]= _0xE8F9;address[_$_c96c[126]]= _0xE917;address[_$_c96c[127]]= _0xE8DB}function updateTechnologies(){currentTechnologies[_$_c96c[19]](function(_0xE737){$(_$_c96c[15])[_$_c96c[29]]($(_$_c96c[139],{value:_0xE737[_$_c96c[17]],text:_0xE737[_$_c96c[18]]}))})}function showTipTechnology(){if(isTipTechnolgyDisplayed== false){isTipTechnolgyDisplayed= true;$(_$_c96c[140])[_$_c96c[50]]()}else {isTipTechnolgyDisplayed= false;$(_$_c96c[140])[_$_c96c[31]]()}}function showTipNominalPower(){if(isTipNominalPowerDisplayed== false){isTipNominalPowerDisplayed= true;$(_$_c96c[141])[_$_c96c[50]]()}else {isTipNominalPowerDisplayed= false;$(_$_c96c[141])[_$_c96c[31]]()}}function showTipSlope(){if(isTipSlopeDisplayed== false){isTipSlopeDisplayed= true;$(_$_c96c[142])[_$_c96c[50]]()}else {isTipSlopeDisplayed= false;$(_$_c96c[142])[_$_c96c[31]]()}}function showTipAzimuth(){if(isTipAzimuthDisplayed== false){isTipAzimuthDisplayed= true;$(_$_c96c[143])[_$_c96c[50]]()}else {isTipAzimuthDisplayed= false;$(_$_c96c[143])[_$_c96c[31]]()}}function showTipProduction(){if(isTipProductionDisplayed== false){isTipProductionDisplayed= true;$(_$_c96c[144])[_$_c96c[50]]()}else {isTipProductionDisplayed= false;$(_$_c96c[144])[_$_c96c[31]]()}}function showTipInverterEfficiency(){if(isTipInverterEfficiencyDisplayed== false){isTipInverterEfficiencyDisplayed= true;$(_$_c96c[145])[_$_c96c[50]]()}else {isTipInverterEfficiencyDisplayed= false;$(_$_c96c[145])[_$_c96c[31]]()}}function sleep(_0xE9CB){var _0xE9E9= new Date()[_$_c96c[146]]();for(var _0xE9AD=0;_0xE9AD< 1e7;_0xE9AD++){if(( new Date()[_$_c96c[146]]()- _0xE9E9)> _0xE9CB){break}}}