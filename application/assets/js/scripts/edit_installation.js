var _$_4350=["action","javascript:createEquipment();","attr","#form-equipment","","val","#equipment-nominal-power","#equipment-slope","#equipment-azimuth","javascript:editEquipment(",");","nominal_power","get","slope","azimuth","#select-currentTechnologies","set","id","type","forEach","<tr id=\"trEquipment","\">","<td>","</td>","<td><button onclick=\"refreshModalEditEquipment(",");\" type=\"button\" class=\"btn btn-link btn-xs\" style=\"border-color: black;\" data-toggle=\"modal\" data-target=\"#modal-equipment\">Edit</button></td>","<td><button onclick=\"deleteEquipment(",");\" type=\"button\" class=\"btn btn-link btn-xs\" style=\"border-color: black;\">Remove</button></td>","</tr>","append","#table-equipment tbody","hide","modal","#modal-equipment","#btAddEquipment","technologyId","#trEquipment"," td","html","eq","Are you sure?","Your will not be able to recover this equipment.","warning","btn-danger","Yes, delete it!","remove","delete","Deleted!","Your equipment has been deleted.","success","show","push","production","#installation-production","inverter_efficiency","#installation-inverter-efficiency","Error","error","catch","/installations","replace","location","1","Addresse already used","-1","Creation location failed","-2","Creation installation failed","-3","Creation equipment failed","-4","Verfication location failed","-5","Update failed","-6","data","then","/save","post","Warning","google_place_id","Location is missing","street_number","Location is not complete","size","Equipment is missing","length","Production is missing","Production is not correct","Inverter efficiency is missing","Inverter efficiency is not correct","googleMap","getElementById","ROADMAP","MapTypeId","maps","Map","pac-input","SearchBox","places","bounds_changed","getBounds","setBounds","addListener","places_changed","LatLngBounds","getPlaces","place_id","lat","geometry","lng","address_components","formatted_address","InfoWindow","Marker","click","open","viewport","union","extend","fitBounds","installation","equipmentList","ready","route","locality","postal_code","country","PlacesService"," ",", ","setContent","event","getDetails","setZoom","LatLng","setCenter","long_name","types","<option>","#tipTechnology","#tipNominalPower","#tipSlope","#tipAzimuth","#tipProduction","#tipInverterEffeciency","getTime"];var isTipTechnolgyDisplayed=false;var isTipNominalPowerDisplayed=false;var isTipSlopeDisplayed=false;var isTipAzimuthDisplayed=false;var isTipProductionDisplayed=false;var isTipInverterEfficiencyDisplayed=false;var address={};var installation={};var mapEquipment= new Map();var googleMap=undefined;var isCreation=true;var countEquipment=0;function refreshModalCreateEquipment(){$(_$_4350[3])[_$_4350[2]](_$_4350[0],_$_4350[1]);$(_$_4350[6])[_$_4350[5]](_$_4350[4]);$(_$_4350[7])[_$_4350[5]](_$_4350[4]);$(_$_4350[8])[_$_4350[5]](_$_4350[4])}function refreshModalEditEquipment(_0xB0EC){$(_$_4350[3])[_$_4350[2]](_$_4350[0],_$_4350[9]+ _0xB0EC+ _$_4350[10]);$(_$_4350[6])[_$_4350[5]](mapEquipment[_$_4350[12]](_0xB0EC)[_$_4350[11]]);$(_$_4350[7])[_$_4350[5]](mapEquipment[_$_4350[12]](_0xB0EC)[_$_4350[13]]);$(_$_4350[8])[_$_4350[5]](mapEquipment[_$_4350[12]](_0xB0EC)[_$_4350[14]])}function createEquipment(){var _0xB0CA={technologyId:$(_$_4350[15])[_$_4350[5]](),nominal_power:$(_$_4350[6])[_$_4350[5]](),slope:$(_$_4350[7])[_$_4350[5]](),azimuth:$(_$_4350[8])[_$_4350[5]]()};var _0xB0EC=countEquipment++;mapEquipment[_$_4350[16]](_0xB0EC,_0xB0CA);var _0xB10E;currentTechnologies[_$_4350[19]](function(_0xB130){if(_0xB130[_$_4350[17]]== $(_$_4350[15])[_$_4350[5]]()){_0xB10E= _0xB130[_$_4350[18]]}});$(_$_4350[30])[_$_4350[29]](_$_4350[20]+ _0xB0EC+ _$_4350[21]+ _$_4350[22]+ _0xB10E+ _$_4350[23]+ _$_4350[22]+ _0xB0CA[_$_4350[11]]+ _$_4350[23]+ _$_4350[22]+ _0xB0CA[_$_4350[13]]+ _$_4350[23]+ _$_4350[22]+ _0xB0CA[_$_4350[14]]+ _$_4350[23]+ _$_4350[24]+ _0xB0EC+ _$_4350[25]+ _$_4350[26]+ _0xB0EC+ _$_4350[27]+ _$_4350[28]);$(_$_4350[33])[_$_4350[32]](_$_4350[31]);$(_$_4350[34])[_$_4350[31]]()}function editEquipment(_0xB0EC){mapEquipment[_$_4350[12]](_0xB0EC)[_$_4350[35]]= $(_$_4350[15])[_$_4350[5]]();mapEquipment[_$_4350[12]](_0xB0EC)[_$_4350[11]]= $(_$_4350[6])[_$_4350[5]]();mapEquipment[_$_4350[12]](_0xB0EC)[_$_4350[13]]= $(_$_4350[7])[_$_4350[5]]();mapEquipment[_$_4350[12]](_0xB0EC)[_$_4350[14]]= $(_$_4350[8])[_$_4350[5]]();var _0xB10E;currentTechnologies[_$_4350[19]](function(_0xB130){if(_0xB130[_$_4350[17]]== mapEquipment[_$_4350[12]](_0xB0EC)[_$_4350[35]]){_0xB10E= _0xB130[_$_4350[18]]}});var _0xB152=$(_$_4350[36]+ _0xB0EC+ _$_4350[37]);_0xB152[_$_4350[39]](0)[_$_4350[38]](_0xB10E);_0xB152[_$_4350[39]](1)[_$_4350[38]](mapEquipment[_$_4350[12]](_0xB0EC)[_$_4350[11]]);_0xB152[_$_4350[39]](2)[_$_4350[38]](mapEquipment[_$_4350[12]](_0xB0EC)[_$_4350[13]]);_0xB152[_$_4350[39]](3)[_$_4350[38]](mapEquipment[_$_4350[12]](_0xB0EC)[_$_4350[14]]);$(_$_4350[33])[_$_4350[32]](_$_4350[31])}function deleteEquipment(_0xB0EC){swal({title:_$_4350[40],text:_$_4350[41],type:_$_4350[42],showCancelButton:true,confirmButtonClass:_$_4350[43],confirmButtonText:_$_4350[44],closeOnConfirm:false},function(){$(_$_4350[36]+ _0xB0EC)[_$_4350[45]]();mapEquipment[_$_4350[46]](_0xB0EC);swal(_$_4350[47],_$_4350[48],_$_4350[49]);$(_$_4350[34])[_$_4350[50]]()})}function save(){try{check_input();var _0xB284=[];mapEquipment[_$_4350[19]](function(_0xB0CA){_0xB284[_$_4350[51]](_0xB0CA)});installation[_$_4350[52]]= $(_$_4350[53])[_$_4350[5]]();installation[_$_4350[54]]= $(_$_4350[55])[_$_4350[5]]();axios[_$_4350[78]](_$_4350[77],{isCreation:isCreation,address:address,installation:installation,equipmentList:_0xB284})[_$_4350[76]](function(_0xB2A6){switch(String(_0xB2A6[_$_4350[75]])){case _$_4350[62]:window[_$_4350[61]][_$_4350[60]](_$_4350[59]);break;case _$_4350[64]:swal(_$_4350[56],_$_4350[63],_$_4350[57]);break;case _$_4350[66]:swal(_$_4350[56],_$_4350[65],_$_4350[57]);break;case _$_4350[68]:swal(_$_4350[56],_$_4350[67],_$_4350[57]);break;case _$_4350[70]:swal(_$_4350[56],_$_4350[69],_$_4350[57]);break;case _$_4350[72]:swal(_$_4350[56],_$_4350[71],_$_4350[57]);break;case _$_4350[74]:swal(_$_4350[56],_$_4350[73],_$_4350[57]);break}})[_$_4350[58]](function(_0xB2C8){swal(_$_4350[56],_0xB2C8,_$_4350[57])})}catch(e){swal(_$_4350[79],e,_$_4350[42]);return}}function check_input(){if(address[_$_4350[80]]== undefined){throw _$_4350[81]}else {if(address[_$_4350[82]]== undefined|| address[_$_4350[82]]== null){throw _$_4350[83]}};if(mapEquipment[_$_4350[84]]== 0){throw _$_4350[85]};if($(_$_4350[53])[_$_4350[5]]()[_$_4350[86]]== 0){throw _$_4350[87]};if($(_$_4350[53])[_$_4350[5]]()< 0){throw _$_4350[88]};if($(_$_4350[55])[_$_4350[5]]()[_$_4350[86]]== 0){throw _$_4350[89]};if($(_$_4350[55])[_$_4350[5]]()< 0|| $(_$_4350[55])[_$_4350[5]]()> 100){throw _$_4350[90]}}function initAutocomplete(){googleMap=  new google[_$_4350[95]][_$_4350[96]](document[_$_4350[92]](_$_4350[91]),{center:{lat:0,lng:0},zoom:1,mapTypeId:google[_$_4350[95]][_$_4350[94]][_$_4350[93]]});var _0xB174=document[_$_4350[92]](_$_4350[97]);var _0xB1B8= new google[_$_4350[95]][_$_4350[99]][_$_4350[98]](_0xB174);googleMap[_$_4350[103]](_$_4350[100],function(){_0xB1B8[_$_4350[102]](googleMap[_$_4350[101]]())});var _0xB196=[];_0xB1B8[_$_4350[103]](_$_4350[104],function(){var _0xB1DA= new google[_$_4350[95]][_$_4350[105]]();var _0xB1FC=_0xB1B8[_$_4350[106]]();if(_0xB1FC[_$_4350[86]]== 0){return};_0xB1FC[_$_4350[19]](function(_0xB262){address[_$_4350[80]]= _0xB262[_$_4350[107]];address[_$_4350[108]]= _0xB262[_$_4350[109]][_$_4350[61]][_$_4350[108]]();address[_$_4350[110]]= _0xB262[_$_4350[109]][_$_4350[61]][_$_4350[110]]();setComponents(_0xB262[_$_4350[111]]);var _0xB21E= new google[_$_4350[95]][_$_4350[113]]({content:_0xB262[_$_4350[112]]});var _0xB240= new google[_$_4350[95]][_$_4350[114]]({map:googleMap,position:_0xB262[_$_4350[109]][_$_4350[61]]});_0xB240[_$_4350[103]](_$_4350[115],function(){_0xB21E[_$_4350[116]](googleMap,_0xB240)});_0xB196[_$_4350[51]](_0xB240);if(_0xB262[_$_4350[109]][_$_4350[117]]){_0xB1DA[_$_4350[118]](_0xB262[_$_4350[109]][_$_4350[117]])}else {_0xB1DA[_$_4350[119]](_0xB262[_$_4350[109]][_$_4350[61]])}});googleMap[_$_4350[120]](_0xB1DA)})}$(document)[_$_4350[123]](function(){while(true){if(google== undefined){sleep(250)}else {if(googleMap== undefined){initAutocomplete();sleep(250)}else {break}}};updateTechnologies();if(currentInstallation!= null){isCreation= false;updateLocation(currentInstallation[_$_4350[61]]);updateInstallation(currentInstallation[_$_4350[121]]);updateEquipment(currentInstallation[_$_4350[122]])}});function updateLocation(_0xB4A4){address= {id:_0xB4A4[_$_4350[17]],google_place_id:_0xB4A4[_$_4350[80]],lat:_0xB4A4[_$_4350[108]],lng:_0xB4A4[_$_4350[110]],street_number:_0xB4A4[_$_4350[82]],route:_0xB4A4[_$_4350[124]],locality:_0xB4A4[_$_4350[125]],postal_code:_0xB4A4[_$_4350[126]],country:_0xB4A4[_$_4350[127]]};var _0xB21E= new google[_$_4350[95]][_$_4350[113]]();var _0xB4C6= new google[_$_4350[95]][_$_4350[99]][_$_4350[128]](googleMap);_0xB4C6[_$_4350[133]]({placeId:_0xB4A4[_$_4350[80]]},function(_0xB262,_0xB4E8){var _0xB240= new google[_$_4350[95]][_$_4350[114]]({map:googleMap,position:_0xB262[_$_4350[109]][_$_4350[61]]});google[_$_4350[95]][_$_4350[132]][_$_4350[103]](_0xB240,_$_4350[115],function(){_0xB21E[_$_4350[131]](address[_$_4350[124]]+ _$_4350[129]+ address[_$_4350[82]]+ _$_4350[130]+ address[_$_4350[126]]+ _$_4350[129]+ address[_$_4350[125]]+ _$_4350[130]+ address[_$_4350[127]]);_0xB21E[_$_4350[116]](googleMap,this)})});googleMap[_$_4350[134]](15);googleMap[_$_4350[136]]( new google[_$_4350[95]][_$_4350[135]](_0xB4A4[_$_4350[108]],_0xB4A4[_$_4350[110]]))}function updateInstallation(_0xB482){installation[_$_4350[17]]= _0xB482[_$_4350[17]];$(_$_4350[53])[_$_4350[5]](_0xB482[_$_4350[52]]);$(_$_4350[55])[_$_4350[5]](_0xB482[_$_4350[54]])}function updateEquipment(_0xB460){$(_$_4350[34])[_$_4350[31]]();_0xB460[_$_4350[19]](function(_0xB0CA){if(_0xB0CA[_$_4350[17]]> countEquipment){countEquipment= _0xB0CA[_$_4350[17]]};countEquipment++;mapEquipment[_$_4350[16]](_0xB0CA[_$_4350[17]],{id:_0xB0CA[_$_4350[17]],technologyId:_0xB0CA[_$_4350[35]],nominal_power:_0xB0CA[_$_4350[11]],slope:_0xB0CA[_$_4350[13]],azimuth:_0xB0CA[_$_4350[14]]});var _0xB10E;currentTechnologies[_$_4350[19]](function(_0xB130){if(_0xB130[_$_4350[17]]== _0xB0CA[_$_4350[35]]){_0xB10E= _0xB130[_$_4350[18]];$(_$_4350[15])[_$_4350[5]](_0xB130[_$_4350[17]])}});$(_$_4350[30])[_$_4350[29]](_$_4350[20]+ _0xB0CA[_$_4350[17]]+ _$_4350[21]+ _$_4350[22]+ _0xB10E+ _$_4350[23]+ _$_4350[22]+ _0xB0CA[_$_4350[11]]+ _$_4350[23]+ _$_4350[22]+ _0xB0CA[_$_4350[13]]+ _$_4350[23]+ _$_4350[22]+ _0xB0CA[_$_4350[14]]+ _$_4350[23]+ _$_4350[24]+ _0xB0CA[_$_4350[17]]+ _$_4350[25]+ _$_4350[26]+ _0xB0CA[_$_4350[17]]+ _$_4350[27]+ _$_4350[28])})}function setComponents(_0xB2EA){var _0xB394=null;var _0xB372=null;var _0xB32E=null;var _0xB350=null;var _0xB30C=null;_0xB2EA[_$_4350[19]](function(_0xB3B6){_0xB3B6[_$_4350[138]][_$_4350[19]](function(_0xB3D8){switch(_0xB3D8){case _$_4350[82]:_0xB394= _0xB3B6[_$_4350[137]];break;case _$_4350[124]:_0xB372= _0xB3B6[_$_4350[137]];break;case _$_4350[125]:_0xB32E= _0xB3B6[_$_4350[137]];break;case _$_4350[126]:_0xB350= _0xB3B6[_$_4350[137]];break;case _$_4350[127]:_0xB30C= _0xB3B6[_$_4350[137]];break}})});address[_$_4350[82]]= _0xB394;address[_$_4350[124]]= _0xB372;address[_$_4350[125]]= _0xB32E;address[_$_4350[126]]= _0xB350;address[_$_4350[127]]= _0xB30C}function updateTechnologies(){currentTechnologies[_$_4350[19]](function(_0xB130){$(_$_4350[15])[_$_4350[29]]($(_$_4350[139],{value:_0xB130[_$_4350[17]],text:_0xB130[_$_4350[18]]}))})}function showTipTechnology(){if(isTipTechnolgyDisplayed== false){isTipTechnolgyDisplayed= true;$(_$_4350[140])[_$_4350[50]]()}else {isTipTechnolgyDisplayed= false;$(_$_4350[140])[_$_4350[31]]()}}function showTipNominalPower(){if(isTipNominalPowerDisplayed== false){isTipNominalPowerDisplayed= true;$(_$_4350[141])[_$_4350[50]]()}else {isTipNominalPowerDisplayed= false;$(_$_4350[141])[_$_4350[31]]()}}function showTipSlope(){if(isTipSlopeDisplayed== false){isTipSlopeDisplayed= true;$(_$_4350[142])[_$_4350[50]]()}else {isTipSlopeDisplayed= false;$(_$_4350[142])[_$_4350[31]]()}}function showTipAzimuth(){if(isTipAzimuthDisplayed== false){isTipAzimuthDisplayed= true;$(_$_4350[143])[_$_4350[50]]()}else {isTipAzimuthDisplayed= false;$(_$_4350[143])[_$_4350[31]]()}}function showTipProduction(){if(isTipProductionDisplayed== false){isTipProductionDisplayed= true;$(_$_4350[144])[_$_4350[50]]()}else {isTipProductionDisplayed= false;$(_$_4350[144])[_$_4350[31]]()}}function showTipInverterEfficiency(){if(isTipInverterEfficiencyDisplayed== false){isTipInverterEfficiencyDisplayed= true;$(_$_4350[145])[_$_4350[50]]()}else {isTipInverterEfficiencyDisplayed= false;$(_$_4350[145])[_$_4350[31]]()}}function sleep(_0xB41C){var _0xB43E= new Date()[_$_4350[146]]();for(var _0xB3FA=0;_0xB3FA< 1e7;_0xB3FA++){if(( new Date()[_$_4350[146]]()- _0xB43E)> _0xB41C){break}}}